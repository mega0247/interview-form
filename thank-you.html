<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Submission Successful</title>

  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f2f4f7;
      margin: 0;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 15px;
    }

    .thank-you-box {
      background: #ffffff;
      padding: 40px;
      max-width: 500px;
      width: 100%;
      text-align: center;
      border-radius: 10px;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
    }

    h2 {
      color: #0a66c2;
      margin-bottom: 15px;
    }

    p {
      font-size: 15px;
      color: #333;
      line-height: 1.5;
      margin: 10px 0;
    }

    .note {
      font-size: 13px;
      color: #666;
      margin-top: 20px;
    }

    .calendar-button {
      display: inline-block;
      margin-top: 20px;
      padding: 12px 25px;
      background-color: #0a66c2;
      color: #fff;
      text-decoration: none;
      border-radius: 6px;
      font-weight: bold;
      transition: background 0.3s;
      cursor: pointer;
    }

    .calendar-button:hover {
      background-color: #004182;
    }
  </style>
</head>

<body>

  <div class="thank-you-box">
    <h2>Thank you!</h2>
    <p>Your interview request has been received and is currently being processed.</p>
    <p>You will receive a calendar invitation via email once your interview time is confirmed, along with any additional details you may need.</p>
    <p>Thank you for your interest. We look forward to connecting with you.</p>
    <p class="note">Please ensure your email address is correct to receive the calendar invitation.</p>

    <!-- Dynamic Add to Calendar Button -->
    <button class="calendar-button" id="addCalendar">Add to Calendar</button>
  </div>

  <script>
    // Grab the button
    const calendarButton = document.getElementById("addCalendar");

    // Example dynamic values (replace with actual interview date/time from your system)
    // Ideally, you pass these from the form submission to thank-you page
    const interviewDate = localStorage.getItem("interview_date") || "20260130"; // YYYYMMDD
    const interviewTime = localStorage.getItem("interview_time") || "0800";    // HHMM
    const interviewEndTime = localStorage.getItem("interview_end_time") || "0830"; // HHMM

    calendarButton.addEventListener("click", function() {
      // Build .ics content
      const icsContent = `BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//Your Company//Interview Scheduler//EN
CALSCALE:GREGORIAN
BEGIN:VEVENT
DTSTART:${interviewDate}T${interviewTime}00Z
DTEND:${interviewDate}T${interviewEndTime}00Z
SUMMARY:Interview - Remote Administrative & Billing Assistant
DESCRIPTION:Your interview request has been received. Please join online at the scheduled time.
LOCATION:Remote
END:VEVENT
END:VCALENDAR`;

      // Create Blob and download
      const blob = new Blob([icsContent], { type: "text/calendar" });
      const link = document.createElement("a");
      link.href = URL.createObjectURL(blob);
      link.download = "Interview.ics";
      link.click();
    });
  </script>

</body>
</html>
